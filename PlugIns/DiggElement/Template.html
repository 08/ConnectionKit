[[if parser.HTMLGenerationPurpose||parser.liveDataFeeds]]

<script type="text/javascript"><!--
 
digg_id = 'digg-widget-[[=&uniqueID]]';
document.write('<ul id="'+digg_id+'" class="rss-items"></ul>');
 
function sandvoxdigg(obj) {
    $j('#'+digg_id).html('');
    var tpl = function() {
        return [
            'li', { 'class': 'rss-item' }, [
                'a', { 'href': this.href+'?OTC-widget'[[if openLinksInNewWindow]], 'target': '_blank'[[endif2]] }, this.title[[if diggCount]],
				'span', { 'style': 'font-size:75%' }, ' '+this.diggs+' diggs' [[endif2]][[if diggDescriptions]],
                'div', { 'class': 'rss-body' }, this.description[[endif2]]
            ]
        ];
    };
    if(!obj) {
        $j('#'+digg_id).html('We were unable to retrieve matching stories from Digg. Please refresh the page to try again.');
    }
    if(!obj.stories || obj.stories.length == 0) {
        $j('#'+digg_id).html('Currently, there are no recent stories of this type on Digg.');
    }
    for (var i = 0 ; i < obj.stories.length ; i++) {
            if(obj.stories[i].diggs > 10000) {
                obj.stories[i].diggs = Math.floor(obj.stories[i].diggs/1000)+'K+';
            }
            $j('#'+digg_id).tplAppend(obj.stories[i], tpl);
    }
}
-->
</script>

<script type="text/javascript"
	src="http://digg.com/tools/services?endPoint=/[[if diggType==2]]user/[[=&diggUser]]/[[=diggUserOptionString]][[else2]]stories[[if diggCategoryString]]/[[if delegate.diggCategoryIsTopic]]topic[[else4]]container[[endif4]]/[[=diggCategoryString]][[endif3]][[if diggStoryPromotionString]]/[[=diggStoryPromotionString]][[endif3]][[endif2]]&type=javascript&callback=sandvoxdigg&count=[[=&maximumStories]]">
</script>

[[else]]
<ul>
<li><a href="#">[['Digg example no.]] 1</a></li>
<li><a href="#">[['Digg example no.]] 2</a></li>
<li><a href="#">[['Digg example no.]] 3</a></li>
<li><a href="#">[['Digg example no.]] 4</a></li>
</ul>
[[endif]]