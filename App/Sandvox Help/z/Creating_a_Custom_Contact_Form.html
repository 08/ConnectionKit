<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
    <meta name="keywords" content="contact, form, forms, contacting, e-mail, email, e-mailing, emailing, mail, mailing, extend, extending, expand, expanding, add, extra, field, fields, mailto, input, label, labels, database, inputs, radio, checkbox, customise, customising, customised, customize, customizing, customized, add, web" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="../main.css" rel="stylesheet" type="text/css" media="all" />
    <link href="../print.css" rel="stylesheet" type="text/css" media="print" />

    <title>Creating a Custom Contact Form</title>
</head>

<body>
    <div id="banner">
        <div id="machelp">
            <a class="bread" href="../Sandvox%20Help.html">Sandvox Help</a>
        </div>

        <div id="index">
            <a class="leftborder" href="all_index.html">Index</a>
        </div>
    </div>

    <div id="mainbox">
        <h1 class="firstHeading">Creating a Custom Contact Form</h1>

        <p>You can extend the capabilities of a <a href="Contact_Form.html" title="Contact Form">Contact Form</a> to create a more general purpose web form. This creates a custom form that visitors can fill in to send an e-mail to you. It may then be possible to configure your mail client to process these e-mails and perform some additional work.</p>

        <div class="warning">
            <p>The Contact Form service is provided by Karelia as a courtesy only. Karelia cannot and does not guarantee the delivery of email through its relay, any spam filters, or other third party systems.</p>
        </div>

        <p>By creating a custom contact form, you can:</p>

        <ul>
            <li>Re-direct the visitor's browser to a specified URL after their message is sent successfully</li>

            <li>Re-direct the visitor's browser to a specified URL (after displaying intermediate error page) if there was an error sending the message</li>

            <li>Allow the sender of the message to be CC'd on the message they send</li>

            <li>Set a fixed message footer or subject prefix/suffix on the message</li>

            <li>Add additional mail headers to the message</li>

            <li>Specify additional form inputs to be added to the message</li>
        </ul>

        <div class="instructions">
            <p><b>To begin construction of the custom Contact Form:</b></p>

            <ol>
                <li>Create a new <a href="Contact_Form.html" title="Contact Form">Contact Form</a> page or object.</li>

                <li>Using the <a href="Inspector.html" title="Inspector">Inspector</a>, configure the <a href="Contact_Form.html" title="Contact Form">Contact Form</a> to be as close as possible to what you require.</li>

                <li>Select "View → Web View → HTML Source" to view the raw HTML of the <a href="Page.html" title="Page">page</a>.</li>

                <li>Copy the <a href="Contact_Form.html" title="Contact Form">Contact Form</a> source code within the <tt>&lt;!-- Contact Element --&gt;</tt> comments.</li>

                <li>Create a new <a href="Raw_HTML.html" title="Raw HTML">Raw HTML</a> page or object and set its HTML code to be that you just copied from the <a href="Contact_Form.html" title="Contact Form">Contact Form</a>.</li>
            </ol>
        </div>

        <p>Unless you also have a non-customized, standard contact form on your page, you will need to also import the CSS (Cascading Style Sheet) code in order to cause your form to look right.</p>

        <div class="instructions">
            <p><b>To import the Cascading Style Sheet for the Contact Form:</b></p>

            <ol>
                <li>In the Finder, control-click on your Sandvox application and choose "Show Package Contents"</li>

                <li>Navigate down to find Contents → Plugins → Contact.svxElement</li>

                <li>Control-click on Contact.svxElement and choose "Show Package Contents"</li>

                <li>Navigate down to find Contents → Resources → ContactElement.css</li>

                <li>Open this file using any text editor such as TextEdit</li>

                <li>Select All, and then Copy the text to the clipboard.</li>

                <li>In Sandvox, from the Site menu, choose either Page Code Injection (if your custom contact form appears only on the one page) or Site Code Injection (if the form appears on multiple pages)</li>

                <li>Choose the second tab, "Head Area"</li>

                <li>In the lower field, type:</li>
            </ol>
            <pre>
&lt;style&gt;
&lt;/style&gt;
</pre>

            <p>10. Paste the text on the clipboard into the lower field between those two lines</p>
        </div><a name="Predefined_Inputs" id="Predefined_Inputs"></a>

        <h2><span class="mw-headline">Predefined Inputs</span></h2>

        <p>If you look at the HTML code of the form, you will see a number of lines of code like this:</p>
        <pre>
&lt;input id="s185" name="s" type="text" value="" /&gt;
</pre>

        <p>This is the code that creates the text field for a visitor to fill in.</p>

        <p>The important thing to note is the "name" attribute. If the input name is a single character long (like in the example above), the Karelia service will specially interpret it (see the table below).</p>

        <p>The "special," single-character input names that are used by Karelia's mail relay. (<b>Boldface</b> parameters are not generated by the Sandvox contact form, but can be added by you.)</p>

        <table class="sandvox">
            <tr>
                <th>Name</th>

                <th>Description</th>

                <th>Notes</th>
            </tr>

            <tr>
                <td>a</td>

                <td>URL of the CSS page of your website</td>

                <td>This enables the intermediate page to match your own site.</td>
            </tr>

            <tr>
                <td>c</td>

                <td>If set to any value, the sender will also receive a copy of the message sent to you</td>

                <td>This does not expose your email address, because the originator of the message appears in the "To" field of the message and your address(es) are in the "BCC" field.</td>
            </tr>

            <tr>
                <td>e</td>

                <td>E-mail address of person submitting form</td>

                <td><i>Required.</i></td>
            </tr>

            <tr>
                <td><b>f</b></td>

                <td>Footer text, shown on a new line below the message</td>

                <td>You could specify some fixed text to identify the message as coming from your Sandvox site. <tt>\t</tt> and <tt>\n</tt> are converted to tabs and newlines.</td>
            </tr>

            <tr>
                <td><b>l</b></td>

                <td>Delimiter to use between the key and value on any additional form inputs (see below) in the resulting e-mail message.</td>

                <td>Default is ': ' (colon, then space). <tt>\t</tt> and <tt>\n</tt> are converted to tabs and newlines.</td>
            </tr>

            <tr>
                <td>m</td>

                <td>Main message</td>

                <td>Generally entered with a <tt>&lt;textarea&gt;</tt> input.</td>
            </tr>

            <tr>
                <td>n</td>

                <td>Name of person submitting form</td>

                <td></td>
            </tr>

            <tr>
                <td><b>q</b></td>

                <td>URL of the page to return to after an error message is shown.</td>

                <td>If there is an error, first the intermediate page is displayed with the error message; a link from there will return to specified URL.</td>
            </tr>

            <tr>
                <td><b>r</b></td>

                <td>URL of the page to return to immediately after the message is sent successfully</td>

                <td>If not specified, an intermediate page is displayed indicating success; link from there will return to the referring page containing the contact form</td>
            </tr>

            <tr>
                <td>s</td>

                <td>Subject of message</td>

                <td>If not specified, the subject will be "Contact Form Message From your Sandvox Website" <i>(Hint: Use &lt;select&gt;... &lt;option&gt;... tags to specify a fixed list of possible subjects.)</i></td>
            </tr>

            <tr>
                <td>t</td>

                <td>Title of originating website</td>

                <td>Used for the intermediate page. Not required, but error messages will look strange without it.</td>
            </tr>

            <tr>
                <td>v</td>

                <td>Message recipient's encoded email address(es)</td>

                <td><i>Required.</i> This can only be generated by the <a href="Contact_Form.html" title="Contact Form">Contact Form</a> page or pagelet in Sandvox; copy it out by using the <b><a href="Sandvox_Menu_Guide.html#View" title="Sandvox Menu Guide">View</a> → <a href="Sandvox_Menu_Guide.html#Web_View" title="Sandvox Menu Guide">Web View</a> → HTML Source</b> of a page with a contact form. <i>(Hint: If you want to let the site visitor specify one of several destination email addresses, you could use &lt;select&gt;... &lt;option&gt;... tags, with each &lt;option&gt; tag's corresponding value being the encrypted recipient address.)</i></td>
            </tr>

            <tr>
                <td>x</td>

                <td>The name of the 'Send' button</td>

                <td>Not actually used for processing; it is just listed here for completeness.</td>
            </tr>

            <tr>
                <td><b>y</b></td>

                <td>Prefix for message subject</td>

                <td>If specified, the given string will be a prefix for the message subject, separated by a space. <i>(Hint: This could be a hidden input, or a fixed list as in the "s" parameter.)</i></td>
            </tr>

            <tr>
                <td><b>z</b></td>

                <td>Suffix for message subject</td>

                <td>As above, but a suffix.</td>
            </tr>
        </table><a name="Additional_Form_Inputs" id="Additional_Form_Inputs"></a>

        <h2><span class="mw-headline">Additional Form Inputs</span></h2>

        <p>If the input name is greater than one character long (e.g. "company"), the contents of the field will be included just above the main content of the final e-mail message. You can specify form inputs such as checkboxes, radio buttons, additional text fields, or hidden inputs and pass the values of those fields to the recipient as part of the email message. <i>Please use only alphanumeric characters and "_" for the input name. Spaces will be converted to underscores, and other characters might have unintended effects.</i></p><a name="Bringing_in_the_CSS" id="Bringing_in_the_CSS"></a>

        <h2><span class="mw-headline">Bringing in the CSS</span></h2>

        <p>The standard contact form makes use of some custom CSS to get it to look just right. You will probably want to do the same. You can either embed the CSS styles directly into your inputs, or you could use code injection to load in the contact form CSS (which will hopefully have already been uploaded to your server by the normal contact form).</p>

        <p><code>&lt;link rel="stylesheet" type="text/css" href="_Resources/ContactElement.css" /&gt;</code></p><a name="Example" id="Example"></a>

        <h2><span class="mw-headline">Example</span></h2>

        <p>You could insert this HTML into the HTML that you copy from the standard form:</p>
        <pre>
&lt;input type="text" name="Company" value="" /&gt;
&lt;input type="hidden" name="r" value="http://www.example.com/" /&gt;
&lt;input type="hidden" name="FormSource" value="Sandvox" /&gt;
&lt;input type="hidden" name ="l" value="\t" /&gt;
&lt;input type="hidden" name="c" value="YES" /&gt;
&lt;input type="hidden" name="f" value="------\nThis message was sent from Sandvox." /&gt;
</pre>

        <p>This would show site visitors an extra field: "Company." All other fields are hidden from them.</p>

        <p>In the e-mail you receive, it would contain:</p>

        <ul>
            <li>The contents of the "Company" field</li>

            <li>"FormSource: Sandvox"</li>

            <li>The main message</li>

            <li>A two line footer</li>
        </ul>

        <p>The visitor sending the message would be cc'd on it, and after the message was sent, they would be taken to <tt>http://www.example.com</tt></p>

        <div class="related">
            <a name="Related_Articles" id="Related_Articles"></a>

            <h2><span class="mw-headline">Related Articles</span></h2>

            <ul>
                <li><a href="Contact_Form.html" title="Contact Form">Contact Form</a></li>
            </ul>
        </div>
    </div>

    <div id='feedback'>
        How can we improve this page? <a href="http://www.karelia.com/sandvox/help/feedback/?h=Sandvox&amp;p=Creating_a_Custom_Contact_Form.html">Let us know.</a>
    </div>
</body>
</html>
